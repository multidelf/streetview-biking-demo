
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>一騎出發吧｜街景模擬器 V7.1</title>
  <style>
    html, body { margin: 0; padding: 0; height: 100%; font-family: sans-serif; }
    #logoHeader {
      position: absolute; top: 10px; left: 10px; z-index: 10;
      background: rgba(255,255,255,0.85); padding: 5px 10px;
      display: flex; align-items: center; font-weight: bold; border-radius: 6px;
    }
    #controlPanel {
      position: absolute; top: 60px; left: 10px; z-index: 10;
      background: rgba(255,255,255,0.95); padding: 12px; width: 380px;
      border-left: 5px solid #4CAF50; border-radius: 5px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2); font-size: 14px;
    }
    select, textarea, input[type="text"], button {
      width: 100%; margin-top: 6px; padding: 6px;
      font-size: 14px; border: 1px solid #ccc; border-radius: 4px;
    }
    #map { width: 100%; height: 100%; }
    .mode-block { display: none; margin-top: 10px; }
    #polylineToggle { margin-top: 10px; }
  </style>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB3MsVlR7h6MsYf1Xjw02BPwB3r95wXsYk&libraries=places"></script>
</head>
<body>
  <div id="logoHeader">🚴 一騎出發吧｜街景模擬器 V7.1</div>
  <div id="controlPanel">
    <label for="modeSelect">📌 選擇輸入模式</label>
    <select id="modeSelect">
      <option value="sheet">🔽 路線下拉選單</option>
      <option value="paste">📝 貼上經緯度</option>
      <option value="ab">📍 A → B 搜尋</option>
    </select>

    <div class="mode-block" id="sheetBlock">
      <select id="routeSelect"><option>請選擇路線</option></select>
      <div style="display:flex; gap:10px; margin-top:6px;">
        <button onclick="selectAll()">全選</button>
        <button onclick="clearAll()">取消全選</button>
      </div>
      <div id="pointList" style="margin-top:10px; max-height:220px; overflow:auto;"></div>
    </div>

    <div class="mode-block" id="pasteBlock">
      <textarea id="coordTextarea" rows="4" placeholder="貼上經緯度，如：24.1612666,120.6951848"></textarea>
      <button onclick="drawFromPasted()">➕ 繪製標記</button>
    </div>

    <div class="mode-block" id="abBlock">
      <input id="pointA" placeholder="起點地名或地址" />
      <input id="pointB" placeholder="終點地名或地址" />
      <button onclick="drawFromAB()">🧭 搜尋路線標記</button>
    </div>

    <label id="polylineToggle">
      <input type="checkbox" id="togglePolyline" checked /> 顯示路線 Polyline
    </label>
  </div>
  <div id="map"></div>
</body>
</html>
